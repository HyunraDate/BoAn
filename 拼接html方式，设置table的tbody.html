<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>拼接html方式,设置table的tbody</title>
    </head>
    <body>

        <script type="text/javascript">
            /*从java过来一个json的字符串*/
            var fromJava ="{\"total\":\"3\", \"students\":[{\"name\":\"Andrew\",\"age\":29},{\"name\":\"Luka\",\"age\":24},{\"name\":\"Victor\",\"age\":23}]}";

            window.onload= function(){
                document.getElementById("displaybtn").onclick=function(){
                    console.log("show me!")
                    
                    //解析上面Json格式的字符串，将解析出来的数据放到tbody里面
                    //转换json对象
                    window.eval("var json = " + fromJava) //Json对象有了
                    //设置总条数
                    document.getElementById("totalSpan").innerHTML = json.total;
                    //拼接html
                    var html ="";
                    //数组（Array）是有序的元素序列,因为要造循环，所以html=""(做个空的字符串)
                    var studentArray = json.students;
                    for(var i =0; i < studentArray.length; i++){
                        var s = studentArray[i]
                        html += "<tr>";
                        html += "<td>"+(i+1)+"</td>";
                        html += "<td>"+s.name+"</td>";
                        html += "<td>"+s.age+"</td>";
                        html += "</tr>";
                        //Nr序号就用“i+1”
                    }

                    //将以上拼接的HTML设置到tbody中
                    document.getElementById("stutbody").innerHTML= html;

                }
            }

        </script>

        <input type="button" value="check students Info" id="displaybtn" />
        <hr>

        <table border="1px" bordercolor= #C3B1E1 width="30%">
            <tr>
                <th>Nr</th>
                <th>Name</th>
                <th>Age</th>
            </tr>
            <tbody id="stutbody">
                <!--<tr>
                     <td>04</td>
                     <td>Yuhaoming</td>
                     <td>19</td>
                </tr>
                <tr>
                     <td>02</td>
                     <td>Wangyuexin</td>
                     <td>18</td>
                </tr> 这堆东西要放在tbody的标签里--> 

            </tbody>
        </table>
        总记录条数: <span id="totalSpan">0</span>条
        <!--总记录条数：两条, 这里的0只是默认值，会被替换掉的-->
    </body>
</html>    